<!DOCTYPE html>
<html>
<head>
  <title>Valentine's Day Page</title>
  <style>
    body {
      text-align: center;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #ff69b4 0%, #ffc0cb 100%);
      color: #e63946;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      margin: 0;
      overflow: hidden;
    }
    h1 {
      font-size: 48px;
      margin-bottom: 20px;
    }
    #cat {
      font-size: 120px;
      margin: 30px 0;
    }
    .question {
      font-size: 32px;
      margin: 20px 0;
      font-weight: bold;
    }
    .buttons {
      margin: 30px 0;
      position: relative;
      z-index: 2;
    }
    button {
      font-size: 20px;
      margin: 10px;
      padding: 15px 30px;
      cursor: pointer;
      border: none;
      border-radius: 10px;
      font-weight: bold;
      transition: all 0.3s;
      user-select: none;
    }

    /* YES */
    #yesButton {
      background-color: #e63946;
      color: white;
      position: relative;
      --yes-scale: 1;
      transform: scale(var(--yes-scale));
    }
    #yesButton:hover {
      transform: scale(calc(var(--yes-scale) * 1.1));
      box-shadow: 0 0 20px #e63946;
    }

    /* NO */
    #noButton {
      background-color: #457b9d;
      color: white;
      position: fixed;
      left: 50%;
      top: 60%;
      transform: translate(-50%, -50%);
      z-index: 3;
    }

    /* Clones tachados */
    .noClone {
      position: fixed;
      background-color: #457b9d;
      color: white;
      border-radius: 10px;
      padding: 15px 30px;
      font-size: 20px;
      font-weight: bold;
      opacity: 0.75;
      text-decoration: line-through;
      pointer-events: none;
      transform: rotate(-8deg);
      animation: pop 0.25s ease-out, fadeOut 1.8s ease-in forwards;
      z-index: 1;
    }

    @keyframes pop {
      from { transform: rotate(-8deg) scale(0.7); opacity: 0; }
      to   { transform: rotate(-8deg) scale(1); opacity: 0.75; }
    }
    @keyframes fadeOut {
      0%   { opacity: 0.75; }
      70%  { opacity: 0.65; }
      100% { opacity: 0; }
    }

    #message {
      font-size: 36px;
      margin-top: 30px;
      animation: fadeIn 0.5s;
      min-height: 100px;
      z-index: 2;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
  </style>
</head>
<body>
  <h1>¬°Feliz D√≠a de San Valent√≠n! üíï</h1>
  <div id="cat">üê±</div>
  <div class="question">¬øSer√≠as mi Valent√≠n?</div>

  <div class="buttons">
    <button id="yesButton">S√≠ ‚ù§Ô∏è</button>
    <button id="noButton">No</button>
  </div>

  <div id="message"></div>

  <script>
    const yesButton = document.getElementById('yesButton');
    const noButton  = document.getElementById('noButton');
    const message   = document.getElementById('message');

    let escapes = 0;
    const MAX_ESCAPES = 50; // se puede escapar un mont√≥n

    function clamp(v, min, max) {
      return Math.min(max, Math.max(min, v));
    }

    function randomPos() {
      // margen para que no se salga de pantalla
      const marginX = 20;
      const marginY = 20;

      const w = noButton.offsetWidth || 120;
      const h = noButton.offsetHeight || 50;

      const maxX = window.innerWidth  - w - marginX;
      const maxY = window.innerHeight - h - marginY;

      const x = Math.random() * (maxX - marginX) + marginX;
      const y = Math.random() * (maxY - marginY) + marginY;

      return { x, y };
    }

    function moveNoButton() {
      const { x, y } = randomPos();
      noButton.style.transform = "none";
      noButton.style.left = x + "px";
      noButton.style.top  = y + "px";
    }

    function leaveNoClone(x, y) {
      const clone = document.createElement('button');
      clone.className = 'noClone';
      clone.textContent = 'No';
      clone.style.left = x + 'px';
      clone.style.top  = y + 'px';
      document.body.appendChild(clone);

      setTimeout(() => clone.remove(), 2000);
    }

    function growYes(extra = 0) {
      // crece poco a poco; tope para que no se vuelva gigante
      const scale = clamp(1 + (escapes * 0.06) + extra, 1, 2.6);
      yesButton.style.setProperty('--yes-scale', scale.toFixed(2));
    }

    function escapeWithClone() {
      const rect = noButton.getBoundingClientRect();

      // desde el 3er escape en adelante, deja clones tachados
      if (escapes >= 3) {
        leaveNoClone(rect.left, rect.top);
      }

      moveNoButton();
      growYes();
    }

    // Click en "S√≠"
    yesButton.addEventListener('click', function() {
      message.innerHTML = '¬°Gachi dice que gracias por aceptar! üòª<br>üíï';
      noButton.style.display = 'none';
      yesButton.disabled = true;
      yesButton.style.cursor = 'default';
    });

    // ‚ÄúNo‚Äù se escapa al acercarte
    noButton.addEventListener('mouseenter', function() {
      if (escapes >= MAX_ESCAPES) return;
      escapes++;
      escapeWithClone();
    });

    // Si logran clickear "No"‚Ä¶ igual no cuenta üòº
    noButton.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();

      const rect = noButton.getBoundingClientRect();
      leaveNoClone(rect.left, rect.top);

      message.innerHTML = 'Eso no cuenta üòº<br>Intenta otra vez...';
      escapes++;
      growYes(0.08);
      moveNoButton();
    });

    // Si cambia tama√±o la ventana, mantenlo dentro
    window.addEventListener('resize', () => {
      if (noButton.style.display !== 'none') moveNoButton();
    });

    // posiciona ‚ÄúNo‚Äù desde el inicio bonito
    setTimeout(() => moveNoButton(), 50);
  </script>
</body>
</html>
